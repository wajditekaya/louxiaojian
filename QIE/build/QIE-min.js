(function(g,d){if(window[g]===undefined){window[g]={}}g=window[g];g.DOM={};g.event={};g.Env=g.Env||{};g.Env.mods={};var i=g.__HOST||window,k=i.document,c=k.documentElement,h=2,a=4;function l(m,e){e=e||"-";return m.replace(/([a-z])([A-Z])/g,function(n,p,o){return p+e+o.toLowerCase()})}function b(e){return e.replace(/-(\w)/g,function(m,n){return n.toUpperCase()})}g.mix=function(q,o,n,u){if(!o||!q){return q}if(n===undefined){n=true}var m,t,e;if(u&&(e=u.length)){for(m=0;m<e;m++){t=u[m];if(t in o){if(n||!(t in q)){q[t]=o[t]}}}}else{for(t in o){if(n||!(t in q)){q[t]=o[t]}}}return q};g.mix(g,{$:function(m){var e="string"==typeof m?document.getElementById(m):m;return e},ready:function(m){var e=this;if(!+"\v1"){(function(){try{document.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}m.call(window,e)})()}else{document.addEventListener("DOMContentLoaded",function(){m.call(window,e)},false)}},each:function(m,q,p){var o,s,n=0,r=m.length,e=r===d||g.type(m)==="function";p=p||window;if(e){for(o in m){if(q.call(p,m[o],o,m)===false){break}}}else{for(s=m[0];n<r&&q.call(p,s,n,m)!==false;s=m[++n]){}}return m},__attachMod:function(m){var e=this;if(m.fns){g.each(m.fns,function(n){n&&n(e)});m.fns=d}m.status=a},__isAttached:function(e){var p=this.Env.mods,o,n=(e=g.makeArray(e)).length-1;for(;n>=0;n--){var m=e[n].replace(/\+css/,"");o=p[m]||{};if(o.status!==a){return false}}return true},add:function(n,q,m){var e=this,r=e.Env.mods,p,s;if(g.isString(n)&&!m&&g.isPlainObject(q)){s={};s[n]=q;n=s}if(g.isPlainObject(n)){g.each(n,function(t,o){t.name=o;if(r[o]){mix(t,r[o],false)}});g.mix(r,n)}else{m=m||{};p=r[n]||{};n=m.host||p.host||n;p=r[n]||{};g.mix(p,{name:n,status:h});if(!p.fns){p.fns=[]}q&&p.fns.push(q);g.mix((r[n]=p),m);if((p.attach!==false)&&e.__isAttached(p.requires)){e.__attachMod(p)}}return e},Bind:function(n,e){var m=Array.prototype.slice.call(arguments).slice(2);return function(){return e.apply(n,m)}},getECN:function(t,n,q){var s=[],p=new RegExp("(^|\\s)"+n+"(\\s|$)"),u=(t||document).getElementsByTagName(q||"*");for(var o=0,m=u.length;o<m;o++){if(p.test(u[o].className)){s.push(u[o])}}return s},cleanWhitespace:function(e){for(var m=0;m<e.childNodes.length;m++){var n=e.childNodes[m];if(n.nodeType==3&&!/\S/.test(n.nodeValue)){n.parentNode.removeChild(n)}}},setCookie:function(n,o,p){if(p){var m=new Date();m.setTime(m.getTime()+(p*24*60*60*1000));var e="; expires="+m.toGMTString()}else{e=""}document.cookie=n+"="+o+e+"; path=/"},getCookie:function(m){var o=m+"=";var e=document.cookie.split(";");for(var n=0;n<e.length;n++){var p=e[n];while(p.charAt(0)==" "){p=p.substring(1,p.length)}if(p.indexOf(o)==0){return p.substring(o.length,p.length)}}return null},makeArray:function(e){if(e===null||e===d){return[]}if(g.isArray(e)){return e}if(typeof e.length!=="number"||g.isString(e)||g.isFunction(e)){return[e]}return f(e)},Browser:{isIE:/msie/.test(window.navigator.userAgent.toLowerCase()),isIE6:document.all&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==6),moz:/gecko/.test(window.navigator.userAgent.toLowerCase()),opera:/opera/.test(window.navigator.userAgent.toLowerCase())}});function f(e){return Array.prototype.slice.call(e)}try{f(c.childNodes)}catch(j){f=function(e){for(var m=[],n=e.length-1;n>=0;n--){m[n]=e[n]}return m}}g.mix(g.DOM,{removeClass:function(e,m){if(!e||!e.className){return false}if(e.className.indexOf(m)!=-1){e.className=e.className.replace(m,"")}},addClass:function(m,n){if(!m){return false}var e=m.className;if(!e){m.className=n}else{if(m.className.indexOf(n)==-1){m.className+=" "+n}}},getStyle:function(o,m){var n;function e(p){return p.replace(/-(\w)/g,function(q,r){return r.toUpperCase()})}if(!+"\v1"){if(m.indexOf("-")!=-1){m=e(m)}n=o.currentStyle[m]}else{n=document.defaultView.getComputedStyle(o,null).getPropertyValue(m)}return n},setStyle:function(m,e){for(var n in e){if(!e.hasOwnProperty(n)){continue}if(n==="opacity"){m.style.filter="alpha(opacity="+e[n]*100+")";m.style.opacity=e[n]}else{if(m.style.setProperty){m.style.setProperty(l(n,"-"),e[n],null)}else{m.style[b(n)]=e[n]}}}},getObjPos:function(o){var e=y=0;if(o.getBoundingClientRect){var m=o.getBoundingClientRect();var n=document.documentElement;e=m.left+Math.max(n.scrollLeft,document.body.scrollLeft)-n.clientLeft;y=m.top+Math.max(n.scrollTop,document.body.scrollTop)-n.clientTop}else{for(;o!=document.body;e+=o.offsetLeft,y+=o.offsetTop,o=o.offsetParent){}}return{x:e,y:y,left:e,top:y}}});g.DOM.css=g.DOM.getStyle;g.DOM.offset=g.DOM.getObjPos;g.DOM.position=g.DOM.getObjPos;g.mix(g,g.DOM);g.mix(g.event,{addEvent:function(m,e,n){if(m.addEventListener){m.addEventListener(e,n,false);return true}else{if(m.attachEvent){m["e"+e+n]=n;m[e+n]=function(){m["e"+e+n](window.event)};m.attachEvent("on"+e,m[e+n]);return true}}return false},removeEvent:function(m,e,n){if(m.removeEventListener){m.removeEventListener(e,n,false);return true}else{if(m.detachEvent){m.detachEvent("on"+e,m[e+n]);m[e+n]=null;return true}}return false},formatEvent:function(e){if(!document.addEventListener){e.charCode=(e.type=="keypress")?e.keyCode:0;e.eventPhase=2;e.isChar=(e.charCode>0);e.pageX=e.clientX+document.body.scrollLeft;e.pageY=e.clientY+document.body.scrollTop;e.preventDefault=function(){this.returnValue=false};if(e.type=="mouseout"){e.relatedTarget=e.toElement}else{if(e.type=="mouseover"){e.relatedTarget=e.fromElement}}e.stopPropagation=function(){this.cancelBubble=true};e.target=e.srcElement;e.time=(new Date).getTime()}return e},getEvent:function(){if(window.event){return this.formatEvent(window.event)}else{return this.getEvent.caller.arguments[0]}}});g.event.on=g.event.addEvent;g.DOM.on=g.event.addEvent;g.mix(g,g.event)})("QIE");(function(f,e){var l=f.__HOST,b=Object.prototype.toString,h=Array.prototype.indexOf,j=Array.prototype.lastIndexOf,a=Array.prototype.filter,d=String.prototype.trim,c="",k="__~ks_cloned",g=/^\s+|\s+$/g,i={};f.mix(f,{type:function(m){return m==null?String(m):i[b.call(m)]||"object"},isPlainObject:function(m){return m&&b.call(m)==="[object Object]"&&"isPrototypeOf" in m}});f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(m,n){i["[object "+m+"]"]=(n=m.toLowerCase());f["is"+m]=function(p){return f.type(p)==n}})})(QIE);QIE.add("node",function(b){var c=b.DOM;function a(f,h,e){var d=this,g;if(!(d instanceof a)){return new a(f,h,e)}g=f;d[0]=g}a.TYPE="-ks-Node";a.prototype.length=1;a.prototype.getDOMNode=function(){return this[0]};a.prototype.nodeType=a.TYPE;b.one=function(e){var d="string"==typeof e?document.getElementById(e):e;return d?new a(d):null};b.Node=a});QIE.add("nodeList",function(b){var c=b.DOM;function a(f,h,e){var d=this,g;if(!(d instanceof Node)){return new Node(f,h,e)}g=f;d[0]=g}b.NodeList=a});QIE.add("node-attach",function(e,c){var j=e.DOM,i=e.Node,a=e.NodeList,b=a.prototype,d=i.prototype,g="getDOMNode",f=g+"s";function h(l,k){e.each(l,function(m){e.each([d,b],function(o,n){o[m]=(function(p){switch(k){default:return function(){var q=this[n?f:g](),r=p.apply(j,[q].concat(e.makeArray(arguments)));return r===c?this:r}}})(j[m])})})}e.mix(d,{one:function(k){return e.one(k,this[0])},all:function(k){return e.all(k,this[0])}});h(["hasClass","addClass","removeClass","replaceClass","toggleClass","getStyle","css","setStyle","on","getObjPos","offset","position"])});
