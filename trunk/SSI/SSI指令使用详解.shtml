<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>SSI指令使用详解</title>
</head>

<body>
<div class = "post">
	<div class = "postTitle">
		<a id="viewpost1_TitleUrl" class="postTitle2" href="http://www.blogjava.net/rain1102/archive/2008/01/18/176128.html">SSI指令使用详解</a>
	</div>
	<strong><span style="font-size: 10pt; color: black; font-family: 宋体">什么是</span></strong><strong><span style="font-size: 10pt; color: black"> SHTML</span></strong><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">使用</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">（</span><span style="font-size: 10pt; color: black">Server Side Include</span><span style="font-size: 10pt; color: black; font-family: 宋体">）的</span><span style="font-size: 10pt; color: black">html</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件扩展名，</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">（</span><span style="font-size: 10pt; color: black">Server Side Include</span><span style="font-size: 10pt; color: black; font-family: 宋体">），通常称为</span><span style="font-size: 10pt; color: black">&#8220;</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器端嵌入</span><span style="font-size: 10pt; color: black">&#8221;</span><span style="font-size: 10pt; color: black; font-family: 宋体">或者叫</span><span style="font-size: 10pt; color: black">&#8220;</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器端包含</span><span style="font-size: 10pt; color: black">&#8221;</span><span style="font-size: 10pt; color: black; font-family: 宋体">，是一种类似于</span><span style="font-size: 10pt; color: black">ASP</span><span style="font-size: 10pt; color: black; font-family: 宋体">的基于服务器的网页制作技术。</span><span style="font-size: 10pt; color: black"><br />
<strong>SSI</strong></span><strong><span style="font-size: 10pt; color: black; font-family: 宋体">工作原理：</span></strong><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">将内容发送到浏览器之前，可以使用</span><span style="font-size: 10pt; color: black">&#8220;</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器端包含</span><span style="font-size: 10pt; color: black"> (SSI)&#8221;</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令将文本、图形或应用程序信息包含到网页中。例如，可以使用</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">包含时间</span><span style="font-size: 10pt; color: black">/</span><span style="font-size: 10pt; color: black; font-family: 宋体">日期戳、版权声明或供客户填写并返回的表单。对于在多个文件中重复出现的文本或图形，使用包含文件是一种简便的方法。将内容存入一个包含文件中即可，而不必将内容输入所有文件。通过一个非常简单的语句即可调用包含文件，此语句指示</span><span style="font-size: 10pt; color: black"> Web </span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器将内容插入适当网页。而且，使用包含文件时，对内容的所有更改只需在一个地方就能完成。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">因为包含</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令的文件要求特殊处理，所以必须为所有</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件赋予</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件扩展名。默认扩展名是</span><span style="font-size: 10pt; color: black"> .stm</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">.shtm </span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black"> .shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
Web </span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器在处理网页的同时处理</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令。当</span><span style="font-size: 10pt; color: black"> Web </span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器遇到</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令时，直接将包含文件的内容插入</span><span style="font-size: 10pt; color: black"> HTML </span><span style="font-size: 10pt; color: black; font-family: 宋体">网页。如果</span><span style="font-size: 10pt; color: black">&#8220;</span><span style="font-size: 10pt; color: black; font-family: 宋体">包含文件</span><span style="font-size: 10pt; color: black">&#8221;</span><span style="font-size: 10pt; color: black; font-family: 宋体">中包含</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令，则同时插入此文件。除了用于包含文件的基本指令之外，还可以使用</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令插入文件的相关信息（如文件的大小）或者运行应用程序或</span><span style="font-size: 10pt; color: black"> shell </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">网站维护常常碰到的一个问题是，网站的结构已经固定，却为了更新一点内容而不得不重做一大批网页。</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">提供了一种简单、有效的方法来解决这一问题，它将一个网站的基本结构放在几个简单的</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件中（模板），以后我们要做的只是将文本传到服务器，让程序按照模板自动生成网页，从而使管理大型网站变得容易。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">所以</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">利用</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">格式的页面目的和</span><span style="font-size: 10pt; color: black"> ASP </span><span style="font-size: 10pt; color: black; font-family: 宋体">差不多，但是因为是</span><span style="font-size: 10pt; color: black"> API </span><span style="font-size: 10pt; color: black; font-family: 宋体">所以运转速度更快，效率更高</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">比</span><span style="font-size: 10pt; color: black">ASP</span><span style="font-size: 10pt; color: black; font-family: 宋体">快，比</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">慢，但由于可以使用服务器端包含，因此使页面更新容易（特别是批量更新</span><span style="font-size: 10pt; color: black">banner</span><span style="font-size: 10pt; color: black; font-family: 宋体">，版权等）</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">想象一下吧</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">你有一段</span><span style="font-size: 10pt; color: black"> HTML,</span><span style="font-size: 10pt; color: black; font-family: 宋体">要在中间穿插一些特殊的服务端脚本</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">比如插入其他</span><span style="font-size: 10pt; color: black"> HTML </span><span style="font-size: 10pt; color: black; font-family: 宋体">段落</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">你选择</span><span style="font-size: 10pt; color: black"> ASP </span><span style="font-size: 10pt; color: black; font-family: 宋体">来完成这个任务</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">但是如果任务更繁重，需要更多的时间，比如</span><span style="font-size: 10pt; color: black"> 5 s,</span><span style="font-size: 10pt; color: black; font-family: 宋体">这个时候你不用</span><span style="font-size: 10pt; color: black"> ASP </span><span style="font-size: 10pt; color: black; font-family: 宋体">而用</span><span style="font-size: 10pt; color: black"> &nbsp;SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">，或许处理时间就只用</span><span style="font-size: 10pt; color: black"> 4s </span><span style="font-size: 10pt; color: black; font-family: 宋体">了。</span><span style="font-size: 10pt; color: black"><br />
<strong>SSI</strong></span><strong><span style="font-size: 10pt; color: black; font-family: 宋体">有什么用？</span></strong><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">之所以要扯到</span><span style="font-size: 10pt; color: black">ssi</span><span style="font-size: 10pt; color: black; font-family: 宋体">，是因</span><span style="font-size: 10pt; color: black"> shtml--server-parsed HTML </span><span style="font-size: 10pt; color: black; font-family: 宋体">的首字母缩略词。包含有嵌入式服务器方包含命令的</span><span style="font-size: 10pt; color: black"> HTML </span><span style="font-size: 10pt; color: black; font-family: 宋体">文本。在被传送给浏览器之前，服务器会对</span><span style="font-size: 10pt; color: black"> SHTML </span><span style="font-size: 10pt; color: black; font-family: 宋体">文档进行完全地读取、分析以及修改。</span><span style="font-size: 10pt; color: black">shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black">asp </span><span style="font-size: 10pt; color: black; font-family: 宋体">有一些相似，以</span><span style="font-size: 10pt; color: black">shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">命名的文件里，使用了</span><span style="font-size: 10pt; color: black">ssi</span><span style="font-size: 10pt; color: black; font-family: 宋体">的一些指令，就像</span><span style="font-size: 10pt; color: black">asp</span><span style="font-size: 10pt; color: black; font-family: 宋体">中的指令，你可以在</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件中写入</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令，当客户端访问这些</span><span style="font-size: 10pt; color: black">shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件时，服务器端会把这些</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件进行读取和解释，把</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件中包含的</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令解释出来比如：你可以在</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件中用</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令引用其他的</span><span style="font-size: 10pt; color: black">html</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件（</span><span style="font-size: 10pt; color: black">#include </span><span style="font-size: 10pt; color: black; font-family: 宋体">），服务器传送给客户端的文件，是已经解释的</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">不会有</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令。它实现了</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">所没有的功能，就是可以实现了动态的</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">，可以说是</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">的一种进化吧。像新浪的新闻系统就是这样的，新闻内容是固定的但它上面的广告和菜单等就是用</span><span style="font-size: 10pt; color: black">#include</span><span style="font-size: 10pt; color: black; font-family: 宋体">引用进来的。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">目前，主要有以下几种用用途：</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示服务器端环境变量</span><span style="font-size: 10pt; color: black">&lt;#echo&gt; <br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">将文本内容直接插入到文档中</span><span style="font-size: 10pt; color: black">&lt;#include&gt; <br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档相关信息</span><span style="font-size: 10pt; color: black">&lt;#flastmod #fsize&gt; (</span><span style="font-size: 10pt; color: black; font-family: 宋体">如文件制作日期</span><span style="font-size: 10pt; color: black">/</span><span style="font-size: 10pt; color: black; font-family: 宋体">大小等</span><span style="font-size: 10pt; color: black">) <br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">直接执行服务器上的各种程序</span><span style="font-size: 10pt; color: black">&lt;#exec&gt;(</span><span style="font-size: 10pt; color: black; font-family: 宋体">如</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">或其他可执行程序</span><span style="font-size: 10pt; color: black">) <br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">设置</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">信息显示格式</span><span style="font-size: 10pt; color: black">&lt;#config&gt;(</span><span style="font-size: 10pt; color: black; font-family: 宋体">如文件制作日期</span><span style="font-size: 10pt; color: black">/</span><span style="font-size: 10pt; color: black; font-family: 宋体">大小显示方式</span><span style="font-size: 10pt; color: black">)<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">高级</span><span style="font-size: 10pt; color: black">SSI&lt;XSSI&gt;</span><span style="font-size: 10pt; color: black; font-family: 宋体">可设置变量使用</span><span style="font-size: 10pt; color: black">if</span><span style="font-size: 10pt; color: black; font-family: 宋体">条件语句。</span><span style="font-size: 10pt; color: black"><br />
</span><strong><span style="font-size: 10pt; color: black; font-family: 宋体">使用</span></strong><strong><span style="font-size: 10pt; color: black">SSI</span></strong><span style="font-size: 10pt; color: black"><br />
SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">是为</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器提供的一套命令，这些命令只要直接嵌入到</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档的注释内容之中即可。如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#include file="info.htm"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">就是一条</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令，其作用是将</span><span style="font-size: 10pt; color: black">"info.htm"</span><span style="font-size: 10pt; color: black; font-family: 宋体">的内容拷贝到当前的页面中，当访问者来浏览时，会看到其它</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档一样显示</span><span style="font-size: 10pt; color: black">info.htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">其中的内容。其它的</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令使用形式基本同刚才的举例差不多，可见</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">使用只是插入一点代码而已，使用形式非常简单。当然，如果</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器不支持</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">，它就会只不过将它当作注释信息，直接跳过其中的内容；浏览器也会忽略这些信息。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">如何在我的</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器上配置</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">功能？</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">在一些</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器上（如</span><span style="font-size: 10pt; color: black">IIS 4.0/SAMBAR 4.2</span><span style="font-size: 10pt; color: black; font-family: 宋体">），包含</span><span style="font-size: 10pt; color: black"> #include </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令的文件必须使用已被映射到</span><span style="font-size: 10pt; color: black"> SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">解释程序的扩展名；否则，</span><span style="font-size: 10pt; color: black">Web </span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器将不会处理该</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令；默认情况下，扩展名</span><span style="font-size: 10pt; color: black"> .stm</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">.shtm </span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black"> .shtml </span><span style="font-size: 10pt; color: black; font-family: 宋体">被映射到解释程序（</span><span style="font-size: 10pt; color: black">Ssinc.dll</span><span style="font-size: 10pt; color: black; font-family: 宋体">）。</span><span style="font-size: 10pt; color: black"><br />
Apache</span><span style="font-size: 10pt; color: black; font-family: 宋体">则是根据你的设置情况而定，修改</span><span style="font-size: 10pt; color: black">srm.conf</span><span style="font-size: 10pt; color: black; font-family: 宋体">如：</span><span style="font-size: 10pt; color: black"><br />
AddType text/x-server-parsed-html .shtml </span><span style="font-size: 10pt; color: black; font-family: 宋体">将只对</span><span style="font-size: 10pt; color: black">.shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">扩展名的文件解析</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令</span><span style="font-size: 10pt; color: black"><br />
AddType text/x-server-parsed-html .html </span><span style="font-size: 10pt; color: black; font-family: 宋体">将对所有</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档解析</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令</span><span style="font-size: 10pt; color: black"><br />
Netscape WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器直接使用</span><span style="font-size: 10pt; color: black"> Administration Server(</span><span style="font-size: 10pt; color: black; font-family: 宋体">管理服务器</span><span style="font-size: 10pt; color: black">)</span><span style="font-size: 10pt; color: black; font-family: 宋体">可打开</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">功能。</span><span style="font-size: 10pt; color: black"><br />
Website </span><span style="font-size: 10pt; color: black; font-family: 宋体">使用</span><span style="font-size: 10pt; color: black"> Server Admin </span><span style="font-size: 10pt; color: black; font-family: 宋体">程序中的</span><span style="font-size: 10pt; color: black"> Mapping </span><span style="font-size: 10pt; color: black; font-family: 宋体">标签，扩展名添加内容类型为：</span><span style="font-size: 10pt; color: black">wwwserver/html-ssi<br />
Cern </span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器不支持</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">，可用</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">诈骗法，到</span><span style="font-size: 10pt; color: black"> <a href="http://sw.cse.bris.ac.uk/WebTools/fakessi.html" target="_blank"><span style="font-size: 9pt; color: black">http://sw.cse.bris.ac.uk/WebTools/fakessi.html</a> </span></span><span style="font-size: 10pt; color: black; font-family: 宋体">上下载一个</span><span style="font-size: 10pt; color: black">PERL</span><span style="font-size: 10pt; color: black; font-family: 宋体">脚本，即可使你的</span><span style="font-size: 10pt; color: black">CERN</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器使用一些</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令。（不支持</span><span style="font-size: 10pt; color: black">exec</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令。）</span>
<p style="background: #fffff4; word-break: break-all; line-height: 20.1pt"><strong><span style="font-size: 10pt; color: black">SSI</span></strong><strong><span style="font-size: 10pt; color: black; font-family: 宋体">指令基本格式</span></strong><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">程序代码：</span><span style="font-size: 10pt; color: black"><br />
&lt;!-- </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令名称</span><span style="font-size: 10pt; color: black">="</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令参数</span><span style="font-size: 10pt; color: black">"&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#include file="info.htm"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">说明：</span><span style="font-size: 10pt; color: black"><br />
&lt;!-- --&gt;</span><span style="font-size: 10pt; color: black; font-family: 宋体">是</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法中表示注释，当</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器不支持</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">时，会忽略这些信息。</span><span style="font-size: 10pt; color: black"><br />
#include </span><span style="font-size: 10pt; color: black; font-family: 宋体">为</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令之一。</span><span style="font-size: 10pt; color: black"><br />
file </span><span style="font-size: 10pt; color: black; font-family: 宋体">为</span><span style="font-size: 10pt; color: black">include</span><span style="font-size: 10pt; color: black; font-family: 宋体">的参数</span><span style="font-size: 10pt; color: black">, info.htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">为参数值，在本指令中指将要包含的文档名。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">注意：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--</span><span style="font-size: 10pt; color: black; font-family: 宋体">与</span><span style="font-size: 10pt; color: black">#</span><span style="font-size: 10pt; color: black; font-family: 宋体">号间无空格，只有</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令与参数间存在空格。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">上面的标点</span><span style="font-size: 10pt; color: black">=""</span><span style="font-size: 10pt; color: black; font-family: 宋体">，一个也不能少。</span><span style="font-size: 10pt; color: black"><br />
SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令是大小写敏感的，因此参数必须是小写才会起作用。</span><span style="font-size: 10pt; color: black"><br />
SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令使用详解</span><span style="font-size: 10pt; color: black"><br />
#echo </span><span style="font-size: 10pt; color: black; font-family: 宋体">示范</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：将环境变量插入到页面中。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="DOCUMENT_NAME"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">本文档名称</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="DATE_LOCAL"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">现在时间</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="REMOTE_ADDR"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">你的</span><span style="font-size: 10pt; color: black">IP</span><span style="font-size: 10pt; color: black; font-family: 宋体">地址</span><span style="font-size: 10pt; color: black"><br />
#include </span><span style="font-size: 10pt; color: black; font-family: 宋体">示范</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：将文本文件的内容直接插入到文档页面中。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#include file="</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#include virtual="</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
file </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名是一个相对路径，该路径相对于使用</span><span style="font-size: 10pt; color: black"> #include </span><span style="font-size: 10pt; color: black; font-family: 宋体">指令的文档所在的目录。被包含文件可以在同一级目录或其子目录中，但不能在上一级目录中。如表示当前目录下的的</span><span style="font-size: 10pt; color: black">nav_head.htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档，则为</span><span style="font-size: 10pt; color: black">file="nav_head.htm"</span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
virtual </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名是</span><span style="font-size: 10pt; color: black"> Web </span><span style="font-size: 10pt; color: black; font-family: 宋体">站点上的虚拟目录的完整路径。如表示相对于服务器文档根目录下</span><span style="font-size: 10pt; color: black">hoyi</span><span style="font-size: 10pt; color: black; font-family: 宋体">目录下的</span><span style="font-size: 10pt; color: black">nav_head.htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件；则为</span><span style="font-size: 10pt; color: black">file="/hoyi/nav_head.htm"<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数：</span><span style="font-size: 10pt; color: black"><br />
file </span><span style="font-size: 10pt; color: black; font-family: 宋体">指定包含文件相对于本文档的位置</span><span style="font-size: 10pt; color: black"><br />
virtual </span><span style="font-size: 10pt; color: black; font-family: 宋体">指定相对于服务器文档根目录的位置</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">注意：</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称必须带有扩展名。</span><span style="font-size: 10pt; color: black"> <br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">被包含的文件可以具有任何文件扩展名，我觉得直接使用</span><span style="font-size: 10pt; color: black">htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">扩展名最方便，微软公司推荐使用</span><span style="font-size: 10pt; color: black"> .inc </span><span style="font-size: 10pt; color: black; font-family: 宋体">扩展名（这就看你的爱好了）。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#include file="nav_head.htm"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">将头文件插入到当前页面</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#include file="nav_foot.htm"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">将尾文件插入到当前页面</span><span style="font-size: 10pt; color: black"><br />
#flastmod </span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black"> #fsize </span><span style="font-size: 10pt; color: black; font-family: 宋体">示范</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：</span><span style="font-size: 10pt; color: black"><br />
#flastmod </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件最近更新日期</span><span style="font-size: 10pt; color: black"><br />
#fsize </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件的长度</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#flastmod file="</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#fsize file="</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数：</span><span style="font-size: 10pt; color: black"><br />
file </span><span style="font-size: 10pt; color: black; font-family: 宋体">指定包含文件相对于本文档的位置</span><span style="font-size: 10pt; color: black; font-family: 宋体">如</span><span style="font-size: 10pt; color: black"> info.txt </span><span style="font-size: 10pt; color: black; font-family: 宋体">表示当前目录下的的</span><span style="font-size: 10pt; color: black">info.txt</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档</span><span style="font-size: 10pt; color: black"><br />
virtual </span><span style="font-size: 10pt; color: black; font-family: 宋体">指定相对于服务器文档根目录的位置</span><span style="font-size: 10pt; color: black; font-family: 宋体">如</span><span style="font-size: 10pt; color: black"> /hoyi/info.txt </span><span style="font-size: 10pt; color: black; font-family: 宋体">表示</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">注意：</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称必须带有扩展名。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#flastmod file="news.htm"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">将当前目录下</span><span style="font-size: 10pt; color: black">news.htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件的最近更新日期插插入到当前页面</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#fsize file="news.htm"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">将当前目录下</span><span style="font-size: 10pt; color: black">news.htm</span><span style="font-size: 10pt; color: black; font-family: 宋体">的文件大小入到当前页面</span><span style="font-size: 10pt; color: black"><br />
#exec </span><span style="font-size: 10pt; color: black; font-family: 宋体">示范</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：将某一外部程序的输出插入到页面中。可插入</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">程序或者是常规应用程序的输入，这取决于使用的参数是</span><span style="font-size: 10pt; color: black">cmd</span><span style="font-size: 10pt; color: black; font-family: 宋体">还是</span><span style="font-size: 10pt; color: black">cgi</span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#exec cmd="</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#exec cgi="</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件名称</span><span style="font-size: 10pt; color: black">"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数：</span><span style="font-size: 10pt; color: black"><br />
cmd </span><span style="font-size: 10pt; color: black; font-family: 宋体">常规应用程序</span><span style="font-size: 10pt; color: black"><br />
cgi CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">脚本程序</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#exec cmd="cat /etc/passwd"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">将会显示密码文件</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#exec cmd="dir /b"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">将会显示当前目录下文件列表</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#exec cgi="/cgi-bin/gb.cgi"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">将会执行</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">程序</span><span style="font-size: 10pt; color: black">gb.cgi</span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#exec cgi="/cgi-bin/access_log.cgi"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">将会执行</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">程序</span><span style="font-size: 10pt; color: black">access_log.cgi</span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">注意：从上面的示例可以看出，这个指令相当方便，但是也存在安全问题。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">禁止方法：</span><span style="font-size: 10pt; color: black"><br />
Apache</span><span style="font-size: 10pt; color: black; font-family: 宋体">，将</span><span style="font-size: 10pt; color: black">access.conf</span><span style="font-size: 10pt; color: black; font-family: 宋体">中的</span><span style="font-size: 10pt; color: black">"Options Includes ExecCGI"</span><span style="font-size: 10pt; color: black; font-family: 宋体">这行代码删除；</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">在</span><span style="font-size: 10pt; color: black">IIS</span><span style="font-size: 10pt; color: black; font-family: 宋体">中，要禁用</span><span style="font-size: 10pt; color: black"> #exec </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令，可修改</span><span style="font-size: 10pt; color: black"> SSIExecDisable </span><span style="font-size: 10pt; color: black; font-family: 宋体">元数据库；</span><span style="font-size: 10pt; color: black"><br />
#config<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：</span><span style="font-size: 10pt; color: black; font-family: 宋体">指定返回给客户端浏览器的错误信息、日期和文件大小的格式。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config errmsg="</span><span style="font-size: 10pt; color: black; font-family: 宋体">自定义错误信息</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#config sizefmt="</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示单位</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#config timefmt="</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示格式</span><span style="font-size: 10pt; color: black">"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数：</span><span style="font-size: 10pt; color: black"><br />
errmsg </span><span style="font-size: 10pt; color: black; font-family: 宋体">自定义</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">执行错误信息，可以为任何你喜欢的方式。</span><span style="font-size: 10pt; color: black"><br />
sizefmt </span><span style="font-size: 10pt; color: black; font-family: 宋体">文件大小显示方式，默认为字节方式</span><span style="font-size: 10pt; color: black">("bytes")</span><span style="font-size: 10pt; color: black; font-family: 宋体">可以改为千字节方式</span><span style="font-size: 10pt; color: black">("abbrev")<br />
timefmt </span><span style="font-size: 10pt; color: black; font-family: 宋体">时间显示方式，最灵活的配置属性。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：显示一个不存在文件的大小</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config errmsg="</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器执行错误，请联系管理员</span><span style="font-size: 10pt; color: black"> yiho&#64;126.com</span><span style="font-size: 10pt; color: black; font-family: 宋体">，谢谢！</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#fsize file="</span><span style="font-size: 10pt; color: black; font-family: 宋体">不存在的文件</span><span style="font-size: 10pt; color: black">.htm"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">以千字节方式显示文件大小</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config sizefmt="abbrev"--&gt;<br />
&lt;!--#fsizefile="news.htm"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">以特定的时间格式显示时间</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config timefmt="%Y</span><span style="font-size: 10pt; color: black; font-family: 宋体">年</span><span style="font-size: 10pt; color: black">/%m</span><span style="font-size: 10pt; color: black; font-family: 宋体">月</span><span style="font-size: 10pt; color: black">%d</span><span style="font-size: 10pt; color: black; font-family: 宋体">日</span><span style="font-size: 10pt; color: black; font-family: 宋体">星期</span><span style="font-size: 10pt; color: black">%W </span><span style="font-size: 10pt; color: black; font-family: 宋体">北京时间</span><span style="font-size: 10pt; color: black">%H:%M:%s</span><span style="font-size: 10pt; color: black; font-family: 宋体">，</span><span style="font-size: 10pt; color: black">%Y</span><span style="font-size: 10pt; color: black; font-family: 宋体">年已过去了</span><span style="font-size: 10pt; color: black">%j</span><span style="font-size: 10pt; color: black; font-family: 宋体">天</span><span style="font-size: 10pt; color: black; font-family: 宋体">今天是</span><span style="font-size: 10pt; color: black">%Y</span><span style="font-size: 10pt; color: black; font-family: 宋体">年的第</span><span style="font-size: 10pt; color: black">%U</span><span style="font-size: 10pt; color: black; font-family: 宋体">个星期</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#echo var="DATE_LOCAL"--&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">显示今天是星期几</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">几月</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">时区</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config timefmt="</span><span style="font-size: 10pt; color: black; font-family: 宋体">今天</span><span style="font-size: 10pt; color: black">%A, %B ,</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器时区是</span><span style="font-size: 10pt; color: black"> %z</span><span style="font-size: 10pt; color: black; font-family: 宋体">，是</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#echo var="DATE_LOCAL"--&gt;<br />
XSSI<br />
XSSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">（</span><span style="font-size: 10pt; color: black">Extended SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">）是一组高级</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">指令，内置于</span><span style="font-size: 10pt; color: black">Apache 1.2</span><span style="font-size: 10pt; color: black; font-family: 宋体">或更高版本的</span><span style="font-size: 10pt; color: black">mod-include</span><span style="font-size: 10pt; color: black; font-family: 宋体">模块之中。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">其中可利用的的指令有：</span><span style="font-size: 10pt; color: black"><br />
#printenv<br />
#set<br />
#if<br />
#printenv<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示当前存在于</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器环境中的所有环境变量。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#printenv--&gt;<br />
#set<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：可给变量赋值，以用于后面的</span><span style="font-size: 10pt; color: black">if</span><span style="font-size: 10pt; color: black; font-family: 宋体">语句。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#set var="</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量名</span><span style="font-size: 10pt; color: black">" value="</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量值</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#set var="</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量名</span><span style="font-size: 10pt; color: black">"value="</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量值</span><span style="font-size: 10pt; color: black">"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#set var="color" value="</span><span style="font-size: 10pt; color: black; font-family: 宋体">红色</span><span style="font-size: 10pt; color: black">"--&gt;<br />
&lt;!--#set var="color" value="</span><span style="font-size: 10pt; color: black; font-family: 宋体">红色</span><span style="font-size: 10pt; color: black">"--&gt;<br />
#if<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">作用：创建可以改变数据的页面，这些数据根据使用</span><span style="font-size: 10pt; color: black">if</span><span style="font-size: 10pt; color: black; font-family: 宋体">语句时计算的要求予以显示。</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">语法：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#if expr="$</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量名</span><span style="font-size: 10pt; color: black">=""</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量值</span><span style="font-size: 10pt; color: black">A"""--&gt;<br />
&nbsp; </span><span style="font-size: 10pt; color: black; font-family: 宋体">显示内容</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#elif expr="$</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量名</span><span style="font-size: 10pt; color: black">=""</span><span style="font-size: 10pt; color: black; font-family: 宋体">变量值</span><span style="font-size: 10pt; color: black">B"""--&gt;<br />
&nbsp; </span><span style="font-size: 10pt; color: black; font-family: 宋体">显示内容</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#else--&gt;<br />
&nbsp; </span><span style="font-size: 10pt; color: black; font-family: 宋体">显示内容</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#endif"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">示例：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#if expr="$SERVER_NAME=""hoyi.zb169.net"""--&gt;<br />
&nbsp; </span><span style="font-size: 10pt; color: black; font-family: 宋体">欢迎光临好易</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">工厂在淄博热线的分站</span><span style="font-size: 10pt; color: black"> <a href="http://hoyi.zb169.net/" target="_blank"><span style="font-size: 9pt; color: black">http://hoyi.zb169.net</a></span></span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#elif expr="$SERVER_NAME=""linux.cqi.com.cn""" --&gt;<br />
&nbsp; </span><span style="font-size: 10pt; color: black; font-family: 宋体">欢迎光临好易</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">工厂在太阳城的分站</span><span style="font-size: 10pt; color: black"> <a href="http://linux.cqi.com.cn/~hoyi" target="_blank"><span style="font-size: 9pt; color: black">http://linux.cqi.com.cn/~hoyi</a></span></span><span style="font-size: 10pt; color: black; font-family: 宋体">。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#else--&gt;<br />
&nbsp; </span><span style="font-size: 10pt; color: black; font-family: 宋体">欢迎光临好易</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">工厂！</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#endif"--&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">注意：用于前面指令中的反斜杠，是用来代换内部的引号，以便它们不会被解释为结束表达式。不可省略。</span><span style="font-size: 10pt; color: black"><br />
1</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">Config </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令</span><span style="font-size: 10pt; color: black"><br />
Config </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令主要用于修改</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">的默认设置。其中：</span><span style="font-size: 10pt; color: black"><br />
Errmsg</span><span style="font-size: 10pt; color: black; font-family: 宋体">：设置默认错误信息。为了能够正常的返回用户设定的错误信息，在</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件中</span><span style="font-size: 10pt; color: black">Errmsg</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数必须被放置在其它</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令的前面，否则客户端只能显示默认的错误信息，而不是由用户设定的自定义信息。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config errmsg="Error! Please email webmaster&#64;mydomain.com" --&gt;<br />
Timefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">：定义日期和时间的使用格式。</span><span style="font-size: 10pt; color: black">Timefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数必须在</span><span style="font-size: 10pt; color: black">echo</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令之前使用。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config timefmt="%A, %B %d, %Y"--&gt;<br />
&lt;!--#echo var="LAST_MODIFIED" --&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示结果为：</span><span style="font-size: 10pt; color: black"><br />
Wednesday, April 12, 2000<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">也许用户对上例中所使用的</span><span style="font-size: 10pt; color: black">%A %B %d</span><span style="font-size: 10pt; color: black; font-family: 宋体">感到很陌生，下面我们就以表格的形式总结一下</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">中较为常用的一些日期和时间格式。</span><span style="font-size: 10pt; color: black"><br />
Sizefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">：决定文件大小是以字节、千字节还是兆字节为单位表示。如果以字节为单位，参数值为</span><span style="font-size: 10pt; color: black">"bytes"</span><span style="font-size: 10pt; color: black; font-family: 宋体">；对于千字节和兆字节可以使用缩写形式。同样，</span><span style="font-size: 10pt; color: black">sizefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数必须放在</span><span style="font-size: 10pt; color: black">fsize</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令的前面才能使用。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config sizefmt="bytes" --&gt;<br />
&lt;!--#fsize file="index.html" --&gt;<br />
2</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">Include </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令</span><span style="font-size: 10pt; color: black"><br />
Include </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令可以把其它文档中的文字或图片插入到当前被解析的文档中，这是整个</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">的关键所在。通过</span><span style="font-size: 10pt; color: black">Include</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令只需要改动一个文件就可以瞬间更新整个站点！</span><span style="font-size: 10pt; color: black"><br />
Include </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令具有两个不同的参数：</span><span style="font-size: 10pt; color: black"><br />
Virtual</span><span style="font-size: 10pt; color: black; font-family: 宋体">：给出到服务器端某个文档的虚拟路径。</span><span style="font-size: 10pt; color: black"><br />
File</span><span style="font-size: 10pt; color: black; font-family: 宋体">：给出到当前目录的相对路径，其中不能使用</span><span style="font-size: 10pt; color: black">"../"</span><span style="font-size: 10pt; color: black; font-family: 宋体">，也不能使用绝对路径。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#include virtual="/includes/header.html" --&gt;<br />
&lt;!--#include file="header.html" --&gt; </span><span style="font-size: 10pt; color: black; font-family: 宋体">这就要求每一个目录中都包含一个</span><span style="font-size: 10pt; color: black">header.html</span><span style="font-size: 10pt; color: black; font-family: 宋体">文件。</span><span style="font-size: 10pt; color: black"><br />
3</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">Echo </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令</span><span style="font-size: 10pt; color: black"><br />
Echo </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令可以显示以下各环境变量：</span><span style="font-size: 10pt; color: black"><br />
DOCUMENT_NAME</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示当前文档的名称。</span><span style="font-size: 10pt; color: black"><br />
DOCUMENT_URI</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示当前文档的虚拟路径。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="DOCUMENT_NAME" --&gt;<br />
&lt;!--#echo var="DOCUMENT_URI" --&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">随着网站的不断发展，那些越来越长的</span><span style="font-size: 10pt; color: black">URL</span><span style="font-size: 10pt; color: black; font-family: 宋体">地址肯定会让人头疼。如果使用</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">，一切就会迎刃而解。因为我们可以把网站的域名和</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令结合在一起显示完整的</span><span style="font-size: 10pt; color: black">URL</span><span style="font-size: 10pt; color: black; font-family: 宋体">，即：</span><span style="font-size: 10pt; color: black"><br />
<a href="http://yourdomain%3c/" target="_blank"><span style="font-size: 9pt; color: black">http://YourDomain&lt;</span></a>;!--#echo var="DOCUMENT_URI" --&gt;<br />
QUERY_STRING_UNESCAPED</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示未经转义处理的由客户端发送的查询字串，其中所有的特殊字符前面都有转义符</span><span style="font-size: 10pt; color: black">"""</span><span style="font-size: 10pt; color: black; font-family: 宋体">。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="QUERY_STRING_UNESCAPED" --&gt;<br />
DATE_LOCAL</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示服务器设定时区的日期和时间。用户可以结合</span><span style="font-size: 10pt; color: black">config</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令的</span><span style="font-size: 10pt; color: black">timefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数，定制输出信息。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config timefmt="%A, the %d of %B, in the year %Y" --&gt;<br />
&lt;!--#echo var="DATE_LOCAL" --&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示结果为：</span><span style="font-size: 10pt; color: black"><br />
Saturday, the 15 of April, in the year 2000<br />
DATE_GMT</span><span style="font-size: 10pt; color: black; font-family: 宋体">：功能与</span><span style="font-size: 10pt; color: black">DATE_LOCAL</span><span style="font-size: 10pt; color: black; font-family: 宋体">一样，只不过返回的是以格林尼治标准时间为基准的日期。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="DATE_GMT" --&gt;<br />
LAST_MODIFIED</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示当前文档的最后更新时间。同样，这是</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">中非常实用的一个功能，只要在</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">文档中加入以下这行简单的文字，就可以在页面上动态的显示更新时间。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="LAST_MODIFIED" --&gt;<br />
CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">环境变量</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">除了</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">环境变量之外，</span><span style="font-size: 10pt; color: black">echo</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令还可以显示以下</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">环境变量：</span><span style="font-size: 10pt; color: black"><br />
SERVER_SOFTWARE</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示服务器软件的名称和版本。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="SERVER_SOFTWARE" --&gt;<br />
SERVER_NAME</span><span style="font-size: 10pt; color: black; font-family: 宋体">：</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示服务器的主机名称，</span><span style="font-size: 10pt; color: black">DNS</span><span style="font-size: 10pt; color: black; font-family: 宋体">别名或</span><span style="font-size: 10pt; color: black">IP</span><span style="font-size: 10pt; color: black; font-family: 宋体">地址。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="SERVER_NAME" --&gt;<br />
SERVER_PROTOCOL</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示客户端请求所使用的协议名称和版本，如</span><span style="font-size: 10pt; color: black">HTTP/1.0</span><span style="font-size: 10pt; color: black; font-family: 宋体">。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="SERVER_PROTOCOL" --&gt;<br />
SERVER_PORT</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示服务器的响应端口。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="SERVER_PORT" --&gt;<br />
REQUEST_METHOD</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示客户端的文档请求方法，包括</span><span style="font-size: 10pt; color: black">GET, HEAD, </span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black">POST</span><span style="font-size: 10pt; color: black; font-family: 宋体">。例如：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="REQUEST_METHOD" --&gt;<br />
REMOTE_HOST</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示发出请求信息的客户端主机名称。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="REMOTE_HOST" --&gt;<br />
REMOTE_ADDR</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示发出请求信息的客户端</span><span style="font-size: 10pt; color: black">IP</span><span style="font-size: 10pt; color: black; font-family: 宋体">地址。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="REMOTE_ADDR" --&gt;<br />
AUTH_TYPE</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示用户身份的验证方法。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="AUTH_TYPE" --&gt;<br />
REMOTE_USER</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示访问受保护页面的用户所使用的帐号名称。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#echo var="REMOTE_USER" --&gt;<br />
4</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">Fsize</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示指定文件的大小，可以结合</span><span style="font-size: 10pt; color: black">config</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令的</span><span style="font-size: 10pt; color: black">sizefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数定制输出格式。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#fsize file="index_working.html" --&gt;<br />
5</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">Flastmod</span><span style="font-size: 10pt; color: black; font-family: 宋体">：显示指定文件的最后修改日期，可以结合</span><span style="font-size: 10pt; color: black">config </span><span style="font-size: 10pt; color: black; font-family: 宋体">命令的</span><span style="font-size: 10pt; color: black">timefmt</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数控制输出格式。</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config timefmt="%A, the %d of %B, in the year %Y" --&gt;<br />
&lt;!--#flastmod file="file.html" --&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">这里，我们可以利用</span><span style="font-size: 10pt; color: black">flastmod</span><span style="font-size: 10pt; color: black; font-family: 宋体">参数显示出一个页面上所有链接页面的更新日期。方法如下：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#config timefmt=" %B %d, %Y" --&gt;<br />
&lt;A HREF="/directory/file.html"&gt;File&lt;/A&gt;<br />
&lt;!--#flastmod virtual="/directory/file.html" --&gt;<br />
&lt;A HREF="/another_directory/another_file.html"&gt;Another File&lt;/A&gt;<br />
&lt;!--#flastmod virtual="/another_directory/another_file.html" --&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">显示结果为：</span><span style="font-size: 10pt; color: black"><br />
File April 19, 2000<br />
Another File January 08, 2000<br />
6</span><span style="font-size: 10pt; color: black; font-family: 宋体">、</span><span style="font-size: 10pt; color: black">Exec<br />
Exec</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令可以执行</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">脚本或者</span><span style="font-size: 10pt; color: black">shell</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令。使用方法如下：</span><span style="font-size: 10pt; color: black"><br />
Cmd</span><span style="font-size: 10pt; color: black; font-family: 宋体">：使用</span><span style="font-size: 10pt; color: black">/bin/sh</span><span style="font-size: 10pt; color: black; font-family: 宋体">执行指定的字串。如果</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">使用了</span><span style="font-size: 10pt; color: black">IncludesNOEXEC</span><span style="font-size: 10pt; color: black; font-family: 宋体">选项，则该命令将被屏蔽。</span><span style="font-size: 10pt; color: black"><br />
Cgi</span><span style="font-size: 10pt; color: black; font-family: 宋体">：可以用来执行</span><span style="font-size: 10pt; color: black">CGI</span><span style="font-size: 10pt; color: black; font-family: 宋体">脚本。例如，下面这个例子中使用服务端</span><span style="font-size: 10pt; color: black">cgi-bin</span><span style="font-size: 10pt; color: black; font-family: 宋体">目录下的</span><span style="font-size: 10pt; color: black">counter.pl</span><span style="font-size: 10pt; color: black; font-family: 宋体">脚本程序在每个页面放置一个计数器：</span><span style="font-size: 10pt; color: black"><br />
&lt;!--#exec cgi="/cgi-bin/counter.pl" --&gt;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">关于</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">的区别</span><span style="font-size: 10pt; color: black"><br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">让我们先来看看</span><span style="font-size: 10pt; color: black">SHTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">和</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">的区别，如果用一句话来解释就是</span><span style="font-size: 10pt; color: black">:SHTML </span><span style="font-size: 10pt; color: black; font-family: 宋体">不是</span><span style="font-size: 10pt; color: black">HTML</span><span style="font-size: 10pt; color: black; font-family: 宋体">而是一种服务器</span><span style="font-size: 10pt; color: black"> API,shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">是服务器动态产成的</span><span style="font-size: 10pt; color: black">html.&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
</span><span style="font-size: 10pt; color: black; font-family: 宋体">虽然两者都是超文本格式</span><span style="font-size: 10pt; color: black">,</span><span style="font-size: 10pt; color: black; font-family: 宋体">但</span><span style="font-size: 10pt; color: black">shtml</span><span style="font-size: 10pt; color: black; font-family: 宋体">是一种用于</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">技术的文件。也就是</span><span style="font-size: 10pt; color: black">Server Side Include--SSI </span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器端包含指令。如果</span><span style="font-size: 10pt; color: black">Web Server</span><span style="font-size: 10pt; color: black; font-family: 宋体">有</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">功能的话，大多数（尤其是基于</span><span style="font-size: 10pt; color: black">Unix</span><span style="font-size: 10pt; color: black; font-family: 宋体">平台）的</span><span style="font-size: 10pt; color: black">WEB</span><span style="font-size: 10pt; color: black; font-family: 宋体">服务器，如</span><span style="font-size: 10pt; color: black">Netscape Enterprise Server</span><span style="font-size: 10pt; color: black; font-family: 宋体">等均支持</span><span style="font-size: 10pt; color: black">SSI</span><span style="font-size: 10pt; color: black; font-family: 宋体">命令。</span></p>
</div>

</body>
</html>
