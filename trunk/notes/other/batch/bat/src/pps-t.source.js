(function(a){if(window[a]===undefined){window[a]={}}a=window[a];a.$=function(b){return"string"==typeof b?document.getElementById(b):b};a.domReady=!+"\v1"?function(b){(function(){try{document.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}b()})()}:function(b){document.addEventListener("DOMContentLoaded",b,false)};a.Bind=function(d,b){var c=Array.prototype.slice.call(arguments).slice(2);return function(){return b.apply(d,c)}};a.getECN=function(h,j,k){var f=[],d=new RegExp("(^|\\s)"+j+"(\\s|$)"),c=(h||document).getElementsByTagName(k||"*");for(var b=0,g=c.length;b<g;b++){if(d.test(c[b].className)){f.push(c[b])}}return f};a.cssValue=function(e,c){var d;function b(f){return f.replace(/-(\w)/g,function(g,h){return h.toUpperCase()})}if(!+"\v1"){if(c.indexOf("-")!=-1){c=b(c)}d=e.currentStyle[c]}else{d=document.defaultView.getComputedStyle(e,null).getPropertyValue(c)}return d};a.cleanWhitespace=function(b){for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];if(d.nodeType==3&&!/\S/.test(d.nodeValue)){d.parentNode.removeChild(d)}}};a.nextSibling=function(b){a.cleanWhitespace(b.parentNode);return b.nextSibling};a.stopPropagation=function(b){var b=b||window.event;if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}};a.preventDefault=function(b){var b=b||window.event;if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}};a.getObjPos=function(e){var b=y=0;if(e.getBoundingClientRect){var c=e.getBoundingClientRect();if(c.left==0&&c.top==0){return}var d=document.documentElement;b=c.left+Math.max(d.scrollLeft,document.body.scrollLeft)-d.clientLeft;y=c.top+Math.max(d.scrollTop,document.body.scrollTop)-d.clientTop}else{for(;e!=document.body;b+=e.offsetLeft,y+=e.offsetTop,e=e.offsetParent){}}return{x:b,y:y}};a.addEvent=function(c,b,d){if(!(c=this.$(c))){return false}if(c.addEventListener){c.addEventListener(b,d,false);return true}else{if(c.attachEvent){c["e"+b+d]=d;c[b+d]=function(){c["e"+b+d](window.event)};c.attachEvent("on"+b,c[b+d]);return true}}return false};a.removeEvent=function(c,b,d){if(!(c=this.$(c))){return false}if(c.removeEventListener){c.removeEventListener(b,d,false);return true}else{if(c.detachEvent){c.detachEvent("on"+b,c[b+d]);c[b+d]=null;return true}}return false};a.setCookie=function(d,e,f){if(f){var c=new Date();c.setTime(c.getTime()+(f*24*60*60*1000));var b="; expires="+c.toGMTString()}else{b=""}document.cookie=d+"="+e+b+"; path=/"};a.getCookie=function(d){var f=d+"=";var b=document.cookie.split(";");for(var e=0;e<b.length;e++){var g=b[e];while(g.charAt(0)==" "){g=g.substring(1,g.length)}if(g.indexOf(f)==0){return g.substring(f.length,g.length)}}return null};a.removeClass=function(b,d){if(!b||!b.className){return false}if(b.className.indexOf(d)!=-1){b.className=b.className.replace(d,"")}};a.addClass=function(d,e){if(!d){return false}var b=d.className;if(!b){d.className=value}else{if(d.className.indexOf(e)==-1){d.className+=" "+e}}}})("PPS");function Rotation(b){this.set(b);this.aNtag=this.s.nTag;this.aMtag=this.s.mTag;this.aText=this.s.text;this.dis=Math.abs(this.s.slider.dis);this.sbj=this.s.slider.obj;this.dir=this.s.slider.dir||this.s.dir;this.Tween=this.s.slider.Tween||this.s.Tween;this.de=this.s.index;this.start=this.B(this,this.s.start);this.callBack=this.B(this,this.s.callBack);this.key=true;this.eType=["click","mouseover"];this.run()}Rotation.prototype={B:function(d,f){var e=Array.prototype.slice.call(arguments).slice(2);return function(){return f.apply(d,e)}},G:function(b){return document.getElementById(b)},E:function(f,d){for(var e in d){f[e]=d[e]}},pre:function(b){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}},aE:function(e,d,f){if(e.addEventListener){e.addEventListener(d,f,false)}else{if(e.attachEvent){e.attachEvent("on"+d,f)}else{e["on"+d]=f}}},set:function(b){this.s={evt:0,index:0,auto:[0,2000],cur:"cur",intTabTime:50,interval:50,nTag:[],mTag:[],text:[],slider:{obj:null,dis:0},dir:"top",Tween:function(d,h,a,c){return -a*((d=d/c-1)*d*d*d-1)+h},start:function(){},callBack:function(){}};this.E(this.s,b||{})},action:function(b){this.start();if(!this.key){return false}this.TabLi(b);this.TabText(b);this.dis?this.slider(b):this.TabChange(b);this.callBack()},autoplay:function(b){if(b){this.de=(this.de<this.aMtag.length-1)?this.de+1:0}else{this.de=(this.de!=0)?this.de-1:this.aMtag.length-1}this.action(this.de)},autoFun:function(){this.clearAuto();this.intAuto=setInterval(this.B(this,this.autoplay,1),this.s.auto[1])},clearAuto:function(){if(this.intAuto){clearInterval(this.intAuto)}},TabLi:function(c){if(this.aNtag!=""){var a=this.aNtag[c],g="className",h=this.s.cur;if(this.lLi){this.lLi[g]=this.lLi[g].replace(h,"");this.lLi.key=0}if(a[g].indexOf(h)==-1){a[g]+=" "+h;a.key=1}this.lLi=a}},TabText:function(b){if(this.aText!=""){this.lText&&(this.lText.style.display="none");this.aText[b].style.display="block";this.lText=this.aText[b]}},TabChange:function(c){if(this.aMtag!=""){var d=this.aMtag[c];if(this.lDiv&&this.lDiv!=d){this.lDiv.style.display="none"}d.style.display="block";this.lDiv=d}},slider:function(c){var o=this.sbj,l=this.dir,d=this.dis;if(d&&!this.sliderInit){o.style.position="absolute";o.style[l]=-this.de*this.dis+"px";this.sliderInit=true}var p=0,m=parseInt(this.sbj.style[l]),n=-c*d-m,b=this.s.interval;this.Move=function(){if(!n){return false}if(this.moveTime){clearTimeout(this.moveTime)}o.style[l]=Math.round(this.Tween(p,m,n,b))+"px";if(p<b){p++;this.moveTime=setTimeout(this.B(this,this.Move),10)}};this.Move()},clearintTab:function(){if(this.intTab){clearTimeout(this.intTab)}},aNtagAct:function(b){if(this.lLi==b){return false}this.clearintTab();this.clearAuto();this.intTab=setTimeout(this.B(this,function(){this.de=b.cNub;this.action(b.cNub)}),this.s.intTabTime);return this},run:function(){if(this.aNtag!=""){for(var m=0,k=this.aNtag.length;m<k;m++){var n=this.aNtag[m],j=n.getElementsByTagName("a")[0]||n.tagName.toLocaleLowerCase()=="a"&&n;if(!n.cNub){n.cNub=m}if(j){this.aE(j,"focus",this.B(this,function(a){a.blur()},j));if(this.s.evt==0){this.aE(j,"click",this.pre)}}this.aE(n,this.eType[this.s.evt],this.B(this,function(a){this.aNtagAct(a)},n));if(this.s.auto[0]==1){this.aE(n,"mouseover",this.B(this,function(a){if(!a.key){return}this.clearAuto()},n));this.aE(n,"mouseout",this.B(this,function(a){if(!a.key){return}this.autoFun();this.clearintTab()},n))}else{this.aE(n,"mouseout",this.B(this,this.clearintTab))}}}this.action(this.de);if(this.s.auto[0]==1){this.autoFun();var i=this.aMtag;if(i!=""){for(var l=0,h=i.length;l<h;l++){this.aE(i[l],"mouseover",this.B(this,this.clearAuto));this.aE(i[l],"mouseout",this.B(this,this.autoFun))}}}}};function Dropsub(a){this.h=a.handle;this.m=a.submore;this.sn=a.className||"";this.hTime=a.hTime||200;this.oTime=a.oTime||200;this.hoverBack=a.hoverBack||function(){};this.outBack=a.outBack||function(){};this.curObiect=null;if(!this.h||!this.m||this.h.length==0||this.m.length==0||this.h.length!=this.m.length){return false}var b="className";this.hover=function(c){if(c.ht){clearTimeout(c.ht)}c.ht=setTimeout(PPS.Bind(this,function(){this.curObiect=c;if(c[b].indexOf(this.sn)==-1){c[b]+=" "+this.sn}this.m[c.n].style.visibility="visible";this.hoverBack()}),this.hTime)};this.out=function(h,c){if(h.ht){clearTimeout(h.ht)}if(h.ot){clearTimeout(h.ot)}h.ot=setTimeout(PPS.Bind(this,function(){if(h[b].indexOf(this.sn)!=-1){h[b]=h[b].replace(" "+this.sn,"")}this.m[h.n].style.visibility="hidden";this.outBack()}),this.oTime)};for(var f=0,e=this.h.length;f<e;f++){var g=this.h[f],d=this.m[f];g.n=f;PPS.addEvent(g,"mouseover",PPS.Bind(this,this.hover,g));PPS.addEvent(g,"mouseout",PPS.Bind(this,this.out,g));PPS.addEvent(d,"mouseover",PPS.Bind(this,function(c){if(c.ot){clearTimeout(c.ot)}},g));PPS.addEvent(d,"mouseout",PPS.Bind(this,this.out,g))}}function SliderJi(a){this.handle=a.handle;this.handleBx=a.handleBx;if(!this.handle||!this.handleBx){return false}this.initial=parseInt(a.initial)||0;this.interval=a.interval||30;this.delay=a.delay||50;this.Tween=a.Tween||function(f,e,b,g){return b*(f/=g)*f+e};this.evt=a.evt||"click";this.dis=a.dis||"height";this.dis=this.dis.toLowerCase();this.i={height:["scrollHeight","offsetHeight","padding-top","padding-bottom","border-top-width","border-bottom-width"],width:["scrollWidth","offsetWidth","padding-left","padding-right","border-left-width","border-right-width"]}[this.dis];this.start=a.start||function(){};this.end=a.end||function(){};this.run()}SliderJi.prototype={$:function(a){return typeof(a)=="string"?document.getElementById(a):a},on:function(a,c,b){if(!(a=this.$(a))){return false}if(a.addEventListener){a.addEventListener(c,b,false);return true}else{if(a.attachEvent){a["e"+c+b]=b;a[c+b]=function(){a["e"+c+b](window.event)};a.attachEvent("on"+c,a[c+b]);return true}}return false},cssValue:function(d,b){var c;function a(e){return e.replace(/-(\w)/g,function(f,g){return g.toUpperCase()})}if(!+"\v1"){if(b.indexOf("-")!=-1){b=a(b)}c=d.currentStyle[b]}else{c=document.defaultView.getComputedStyle(d,null).getPropertyValue(b)}return c},B:function(b,c){var a=Array.prototype.slice.call(arguments).slice(2);return function(){return c.apply(b,a)}},slider:function(j){var f,h=Math.max(this.handleBx[this.i[0]],this.handleBx[this.i[1]])-f,e=this.interval,g=0,i;this.sorz=this.handleBx[this.i[1]]==this.handleBx[this.i[0]];f=this.sorz?this.handleBx[this.i[0]]:this.initial;h=this.sorz?this.initial-f:Math.max(this.handleBx[this.i[0]],this.handleBx[this.i[1]])-f;if(j.timer){clearTimeout(j.timer)}this.start();i=parseInt(this.cssValue(this.handleBx,this.i[2]))+parseInt(this.cssValue(this.handleBx,this.i[3]))+parseInt(this.cssValue(this.handleBx,this.i[4]))+parseInt(this.cssValue(this.handleBx,this.i[5]));function a(){this.handleBx.style[this.dis]=Math.ceil(this.Tween(g,f,h,e))-i+"px";if(g<e){g++;j.timer=setTimeout(this.B(this,a),10)}else{this.end()}}a.call(this)},run:function(){this.on(this.handle,this.evt,this.B(this,this.slider,this.handle))}};function ScreenScroll(a){this.id=document.getElementById(a.id);this.t=a.top;this.pos=a.pos;this.posValue=a.posValue;this.fixed=a.fix||0;this.n=a.n||1;this.d=60;this.cTop=0;this.t=this.t=="bottom"?(document.documentElement.clientHeight-this.id.offsetHeight-68):parseInt(this.t);this.id.style.top=this.t+"px";this.id.style.position="absolute";this.id.style[this.pos.toLowerCase()]=parseInt(this.posValue)+"px";this.fixed?this.fix():(this.n==1?this.roll2():this.roll())}ScreenScroll.prototype={sTop:function(a){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)},Tween:function(e,a,g,f){return g*((e=e/f-1)*e*e+1)+a},on:function(b,a,c){if(b.addEventListener){b.addEventListener(a,c,true)}else{if(b.attachEvent){b["e"+a+c]=c;b[a+c]=function(){b["e"+a+c](window.event)};b.attachEvent("on"+a,b[a+c])}else{return false}}},fix:function(){if(document.all&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==6)){this.id.style.position="absolute";this.id.style.cssText+=";top:expression(documentElement.scrollTop+"+this.t+");"+this.pos+":+"+this.posValue+")";document.body.style.cssText+=";background:url(about:blank) fixed"}else{this.id.style.position="fixed"}return this},roll:function(){var c=this,d=0,a=parseInt(c.id.style.top)||0;this.time=setInterval(function(){if(parseInt(c.id.style.top)==(c.sTop()+c.t)){return}var b=c.sTop()+c.t-a;c.id.style.top=Math.floor(c.Tween(d,a,b,c.d))+"px";if(d<c.d){d++}else{d=0,a=parseInt(c.id.style.top)}},10);return this},roll2:function(){var a=this;this.time=setInterval(function(){if(a.cTop==b){return}var b=a.sTop()+a.t;a.cTop=a.cTop+Math.ceil((b-a.cTop)*0.08);a.id.style.top=a.cTop+"px"},10);return this},roll3:function(){var a=this;this.time=setInterval(function(){if(parseInt(a.id.style.top)==b){return}var b=a.sTop()+a.t;a.id.style.top=parseInt(a.id.style.top)+Math.ceil((b-parseInt(a.id.style.top))*0.08)+"px"},10);return this}};PPS.domReady(function(){var a=function(){if(!PPS.$("square-nav-list")){return false}new Dropsub({handle:PPS.getECN(PPS.$("square-nav-list"),"square-sub-drop","li"),submore:PPS.getECN(PPS.$("square-nav-list"),"square-sub-nav","ul"),className:"select"})}(),c=function(){if(!PPS.$("skin-set-nav")){return false}var m=PPS.$("skin-set-nav").getElementsByTagName("li"),l=PPS.getECN(PPS.$("skin-set-bd"),"skin-bx","div"),k=PPS.$("skin-diy-cat").getElementsByTagName("a"),j=[];j.newest=0;j.jingdian=1;j.shishang=2;j.xiaoyuan=3;j.jieri=4;j.diy=5;new Rotation({nTag:m,mTag:l,cur:"select",index:j[PPS.$("skin-set-nav").cat]||j.newest});new Rotation({nTag:k,mTag:[PPS.$("skin-diy-bj"),PPS.$("skin-diy-color")],cur:"select"})}(),b=function(){if(!PPS.$("privacy-set-cat")){return false}var j=PPS.$("privacy-set-cat").getElementsByTagName("a");new Rotation({nTag:j,mTag:[PPS.$("setting-privacy"),PPS.$("setting-blacklist")],cur:"cur"})}(),e=function(){if(!PPS.$("show-info-tab")){return false}var m=PPS.$("show-info-tab").getElementsByTagName("li"),l=PPS.$("show-info-bd").getElementsByTagName("div"),j=[];for(var k=0,n=l.length;k<n;k++){if(l[k].parentNode==PPS.$("show-info-bd")){j.push(l[k])}}new Rotation({nTag:m,mTag:j,cur:"select"})}(),d=function(){var m=new Date().getTime();var q=PPS.getECN(document,"k-bx","div");if(q.length==0){return false}for(var p=0,j=q.length;p<j;p++){var l=PPS.getECN(q[p],"k-tab","h2")[0],r=PPS.getECN(l,"k-tab-item","*"),n=PPS.getECN(q[p],"k-bd","div")[0],s=n.getElementsByTagName("div"),t=[];if(l.length==0||n.length==0||n.length==0||s.length==0){continue}for(var o=0,k=s.length;o<k;o++){if(s[o].parentNode==n){t.push(s[o])}}if(t.length==r.length&&r.length!=0){new Rotation({nTag:r,mTag:t,cur:"select",start:function(){if(this.aMtag[this.de].lazy){return}var u=this.aMtag[this.de].getElementsByTagName("textarea")[0];if(!u||u.className.indexOf("textarea-lazy")==-1){return}this.aMtag[this.de].innerHTML=u.value}})}}}(),f=function(){if(!PPS.$("all-top-drop")){return false}new Dropsub({handle:[PPS.$("all-top-drop")],submore:[PPS.$("all-top-drop-nav")]})}(),i=function(){if(!PPS.$("y-square-drop")){return false}new Dropsub({handle:[PPS.$("y-square-drop")],submore:[PPS.$("y-square-drop-nav")],className:"y-drop-select"})}(),g=function(){var l,m=PPS.getECN(document,"pagenav-drop-list","ul"),j=[];if((l=PPS.getECN(document,"pagenav-drop","a"))&&l.length==0){return false}for(var k=0,n=m.length;k<n;k++){document.body.appendChild(m[k].cloneNode(true));j.push(m[k].cloneNode(true));m[k].parentNode.removeChild(m[k]);m[k]=null}new Dropsub({handle:l,submore:PPS.getECN(document,"pagenav-drop-list","ul"),className:"select",hoverBack:function(){var o=this.curObiect,p=this.m[o.n];p.style.top=PPS.getObjPos(o).y-p.offsetHeight+1+"px";p.style.left=PPS.getObjPos(o).x+"px"}})}(),h=function(){if(!PPS.$("scroll-publish")){return false}new ScreenScroll({id:"scroll-publish",top:"bottom",pos:"right",posValue:(document.documentElement.clientWidth-800)/2+1,fix:1});var j=new SliderJi({handle:PPS.$("scroll-publish-handle"),handleBx:PPS.$("scroll-publish"),initial:15,start:function(){this.handle.innerHTML=this.sorz?"<b>展开</b>":"<b>收起</b>";this.handle.className=this.sorz?"scroll-publish-handle":"scroll-publish-handle-s"},interval:20,dis:"width"})}();dialog={};dialog.position=function(){}});